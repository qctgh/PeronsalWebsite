@model AdminUserAddModel
@{
    ViewData["Title"] = "添加后台用户";
}
@section toolbar{
    <h3>添加后台用户</h3>
}
<form id="form1" class="layui-form" asp-action="Add" asp-controller="AdminUser" method="post">
    <div class="layui-form-item">
        <label class="layui-form-label">手机号</label>
        <div class="layui-input-block">
            <input type="text" asp-for="PhoneNum" lay-verify="required|phone" autocomplete="off" placeholder="请输入手机号" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">用户名</label>
        <div class="layui-input-block">
            <input type="text" asp-for="Name" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">密码框</label>
        <div class="layui-input-block">
            <input type="password" asp-for="Password" placeholder="请输入密码" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">重复密码</label>
        <div class="layui-input-block">
            <input type="password" asp-for="Password2" placeholder="请再次输入密码" autocomplete="off" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">邮箱</label>
        <div class="layui-input-block">
            <input type="text" asp-for="Email" lay-verify="title" autocomplete="off" placeholder="请输入用户名" class="layui-input">
        </div>
    </div>

    <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <div class="layui-input-block">
            <select lay-filter="aihao">
                <option value=""></option>
                <option value="0">玉树临风</option>
                <option value="1">美丽大方</option>
                <option value="2">善良可爱</option>
                <option value="3">温和可亲</option>
                <option value="4">穷凶极恶</option>
            </select>
        </div>
    </div>

    @*<div class="layui-form-item">
            <label class="layui-form-label">角色</label>
            <div class="layui-input-block">
                <input type="checkbox" asp-for="RoleIds" title="写作">
                <input type="checkbox" asp-for="RoleIds" title="阅读">
                <input type="checkbox" asp-for="RoleIds" title="发呆">
            </div>
        </div>*@


    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <input type="radio" name="sex" value="男" title="男" checked="">
            <input type="radio" name="sex" value="女" title="女">
        </div>
    </div>
    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">备注</label>
        <div class="layui-input-block">
            <textarea placeholder="请输入备注" class="layui-textarea" name="desc"></textarea>
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-input-block">
            <button id="submit" type="button" class="layui-btn" lay-submit="">保存</button>
        </div>
    </div>
</form>

@section scripts{
    <script>
        layui.use(['layer','jquery'], function () {
            var layer = layui.layer
                , jquery = layui.jquery;
            var $ = layui.$;

            $("#submit").click(function () {
                var formData = $("#form1").serializeArray();
                $.ajax({
                    url: "@Url.Content("~/AdminUser/Add")",
                    type: "post",
                    data: formData,
                    dataType: "json",
                    success: function (res) {
                        if (res.code == 0) {
                            layer.alert(res.msg);
                            window.location.reload();
                        }
                        else {
                            layer.alert(res.msg);
                        }
                    },
                    error: function () { alert("请求出错"); }
                });
            });

        });

    </script>
}